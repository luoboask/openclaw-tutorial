# OpenClaw 搜索功能完全使用指南

> 快速获取网络信息，让你的 AI 助手更智能

---

## 简介

OpenClaw 内置了两款强大的搜索工具，让你无需离开对话即可获取网络信息：

| 工具 | 功能 | 适用场景 |
|------|------|----------|
| `web_search` | 网络搜索（Brave Search API） | 查找资料、研究话题、获取最新信息 |
| `web_fetch` | 网页内容提取 | 阅读文章、获取页面详情、分析网页内容 |

---

## 一、Web Search 工具

`web_search` 使用 Brave Search API，提供高质量的搜索结果。

### 基础用法

```
搜索 "Python 异步编程最佳实践"
```

只需直接提出搜索需求，OpenClaw 会自动调用 `web_search` 工具。

### 高级参数

你可以通过以下参数精确控制搜索：

| 参数 | 说明 | 示例 |
|------|------|------|
| `query` | 搜索关键词（必填） | `"OpenAI GPT-4 新功能"` |
| `count` | 返回结果数量（1-10） | `5` |
| `country` | 国家代码（影响搜索结果） | `US`, `CN`, `DE` |
| `search_lang` | 搜索结果语言 | `zh`, `en`, `ja` |
| `freshness` | 结果时效性 | `pd` (24h), `pw` (7天), `pm` (30天), `py` (1年) |

### 使用示例

**1. 搜索最新技术新闻**

```
搜索最近24小时关于 AI 的新闻
```

**2. 限定结果数量**

```
搜索 OpenClaw 的使用教程，返回3个结果
```

**3. 多语言搜索**

```
搜索日本最新的科技发展，用日文搜索
```

### 配置 API Key

`web_search` 需要配置 Brave Search API Key：

```bash
# 方法一：通过命令行配置
openclaw configure --section web

# 方法二：设置环境变量
export BRAVE_API_KEY="your-api-key-here"
```

获取 API Key：[Brave Search API](https://brave.com/search/api/)

---

## 二、Web Fetch 工具

`web_fetch` 用于提取指定网页的内容，将 HTML 转换为可读的 Markdown 或纯文本。

### 基础用法

```
获取 https://docs.openclaw.ai 的内容
```

或更简洁地：

```
读取 https://example.com/article 这篇文章
```

### 高级参数

| 参数 | 说明 | 示例 |
|------|------|------|
| `url` | 目标网页地址（必填） | `https://docs.openclaw.ai` |
| `extractMode` | 提取模式：`markdown` 或 `text` | `markdown` (默认) |
| `maxChars` | 最大字符数限制 | `5000` |

### 使用示例

**1. 提取文章全文**

```
提取这篇文章：https://blog.example.com/tech-guide
```

**2. 限制内容长度**

```
获取 https://long-article.com 的前3000个字符
```

**3. 纯文本模式**

```
以纯文本形式获取 https://docs.openclaw.ai/install
```

---

## 三、实际应用场景

### 场景 1：快速研究一个话题

```
我想了解 Rust 的内存安全特性，请帮我搜索相关资料并总结
```

OpenClaw 会自动：
1. 使用 `web_search` 搜索相关内容
2. 分析搜索结果
3. 为你提供结构化的总结

### 场景 2：阅读长文章

```
请帮我阅读这篇文章并提取要点：https://example.com/long-article
```

### 场景 3：对比多个来源

```
搜索 React vs Vue 2024 对比，然后获取最有价值的2篇文章详细阅读
```

### 场景 4：获取最新信息

```
搜索今天关于 Python 3.13 发布的消息
```

---

## 四、最佳实践

### ✅ 应该做的

1. **明确搜索意图** - 越具体的问题，搜索结果越精准
2. **结合两个工具使用** - 先用 `web_search` 找资源，再用 `web_fetch` 深入阅读
3. **限制结果数量** - 对于简单查询，3-5 个结果通常足够
4. **使用时效性过滤** - 技术类查询建议加上 `freshness` 参数获取最新信息

### ❌ 避免的做法

1. **不要搜索敏感信息** - 避免在搜索中暴露个人隐私
2. **不要完全依赖搜索结果** - 重要决策请交叉验证多个来源
3. **避免过长的提取** - 超大页面提取可能超时，建议分段处理

---

## 五、常见问题

### Q: web_search 提示 "missing_brave_api_key" 怎么办？

A: 你需要配置 Brave Search API Key，参考上文「配置 API Key」部分。

### Q: web_fetch 提取的内容不完整？

A: 某些网站使用 JavaScript 动态加载内容，这类页面可能无法完全提取。可以尝试：
- 增加 `maxChars` 参数
- 使用浏览器工具（如果可用）

### Q: 搜索结果不理想？

A: 尝试以下方法优化：
- 使用更具体的关键词
- 指定 `search_lang` 获取特定语言结果
- 调整 `country` 参数获取本地化结果

### Q: 可以搜索多少个结果？

A: `count` 参数支持 1-10 个结果，默认通常为 5 个。

---

## 六、快速参考卡

```
┌─────────────────────────────────────────────────────────────┐
│  🔍 搜索                                                    │
├─────────────────────────────────────────────────────────────┤
│  搜索 "关键词"                                              │
│  搜索 Python 教程，返回5个结果                              │
│  搜索最近的 AI 新闻，时效24小时                             │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│  📄 提取网页                                                │
├─────────────────────────────────────────────────────────────┤
│  获取 https://example.com 的内容                            │
│  读取这篇文章：https://docs.openclaw.ai/guide              │
│  提取 https://blog.example.com 的前5000字符                │
└─────────────────────────────────────────────────────────────┘
```

---

## 结语

OpenClaw 的搜索功能让你能够：
- 🚀 快速获取网络信息
- 📚 阅读和分析网页内容
- 🔍 研究任何话题
- ⏰ 节省切换浏览器的时间

掌握这两个工具，你的 AI 助手将成为真正的「知识百宝箱」！

---

*文档版本：v1.0*  
*最后更新：2025年*
